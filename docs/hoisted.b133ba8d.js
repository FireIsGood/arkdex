function ce(r){var e=r.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(t){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}),n}var te={};const E=new WeakMap;function J(r,e,n,t){var i,o;if(!r&&!E.has(e))return!1;const a=(i=E.get(e))!==null&&i!==void 0?i:new WeakMap;if(E.set(e,a),!r&&!E.has(e))return!1;const l=(o=a.get(n))!==null&&o!==void 0?o:new Set;a.set(n,l);const s=l.has(t);return r?l.add(t):l.delete(t),s&&r}function fe(r){return typeof r.addEventListener=="function"}function de(r,e){let n=r.target;if(n instanceof Text&&(n=n.parentElement),n instanceof Element&&r.currentTarget instanceof Element){const t=n.closest(e);if(t&&r.currentTarget.contains(t))return t}}function ne(r,e,n,t,i){if(typeof r=="string"&&(r=document.querySelectorAll(r)),!fe(r)){const p=Array.prototype.map.call(r,m=>ne(m,e,n,t,i));return{destroy(){for(const m of p)m.destroy()}}}const o=r instanceof Document?r.documentElement:r,a=Boolean(typeof i=="object"?i.capture:i),l=p=>{const m=de(p,e);m&&(p.delegateTarget=m,t.call(o,p))};typeof i=="object"&&delete i.once;const s=JSON.stringify({selector:e,type:n,capture:a}),c=J(!0,o,t,s),f={destroy(){o.removeEventListener(n,l,i),J(!1,o,t,s)}};return c||o.addEventListener(n,l,i),f}const he=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),ge=ce(he);var w={},u={},C={};Object.defineProperty(C,"__esModule",{value:!0});var pe=function(e){var n=e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return n[0]==="/"&&(n=n.splice(1)),n===""&&(n="homepage"),n};C.default=pe;var R={};Object.defineProperty(R,"__esModule",{value:!0});var me=function(e){window.history.pushState({url:e||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.title,e||window.location.href.split(window.location.hostname)[1])};R.default=me;var L={},g={};Object.defineProperty(g,"__esModule",{value:!0});g.query=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof e!="string"?e:n.querySelector(e)};g.queryAll=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof e!="string"?e:Array.prototype.slice.call(n.querySelectorAll(e))};g.escapeCssIdentifier=function(e){return window.CSS&&window.CSS.escape?CSS.escape(e):e};Object.defineProperty(L,"__esModule",{value:!0});var y=g,ve=function(e,n){var t=document.createElement("html");t.innerHTML=e;var i=[];n.forEach(function(a){if((0,y.query)(a,t)==null)return console.warn("[swup] Container "+a+" not found on page."),null;(0,y.queryAll)(a).length!==(0,y.queryAll)(a,t).length&&console.warn("[swup] Mismatched number of containers found on new page."),(0,y.queryAll)(a).forEach(function(l,s){(0,y.queryAll)(a,t)[s].setAttribute("data-swup",i.length),i.push((0,y.queryAll)(a,t)[s].outerHTML)})});var o={title:(t.querySelector("title")||{}).innerText,pageClass:t.querySelector("body").className,originalContent:e,blocks:i};return t.innerHTML="",t=null,o};L.default=ve;var $={};Object.defineProperty($,"__esModule",{value:!0});var ye=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t={url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},i=ye({},t,e),o=new XMLHttpRequest;return o.onreadystatechange=function(){o.readyState===4&&(o.status,n(o))},o.open(i.method,i.url,!0),Object.keys(i.headers).forEach(function(a){o.setRequestHeader(a,i.headers[a])}),o.send(i.data),o};$.default=_e;var M={};Object.defineProperty(M,"__esModule",{value:!0});var we=function(){return window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0?"webkitTransitionEnd":"transitionend"};M.default=we;var j={};Object.defineProperty(j,"__esModule",{value:!0});var Pe=function(){return window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0?"WebkitTransition":"transition"};j.default=Pe;var x={};Object.defineProperty(x,"__esModule",{value:!0});var be=function(){return window.location.pathname+window.location.search};x.default=be;var q={},A={};Object.defineProperty(A,"__esModule",{value:!0});var Ee=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();function Se(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Te=function(){function r(e){Se(this,r),e instanceof Element||e instanceof SVGElement?this.link=e:(this.link=document.createElement("a"),this.link.href=e)}return Ee(r,[{key:"getPath",value:function(){var n=this.link.pathname;return n[0]!=="/"&&(n="/"+n),n}},{key:"getAddress",value:function(){var n=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(n=this.link.getAttribute("xlink:href")),n[0]!=="/"&&(n="/"+n),n}},{key:"getHash",value:function(){return this.link.hash}}]),r}();A.default=Te;Object.defineProperty(q,"__esModule",{value:!0});var Ae=A,Oe=ke(Ae);function ke(r){return r&&r.__esModule?r:{default:r}}var He=function(e){return new Oe.default(e).getAddress()};q.default=He;var D={};Object.defineProperty(D,"__esModule",{value:!0});var O=g,Ce=function(e,n){var t=0;n.forEach(function(i){(0,O.query)(i,e)==null?console.warn("[swup] Container "+i+" not found on page."):(0,O.queryAll)(i).forEach(function(o,a){(0,O.queryAll)(i,e)[a].setAttribute("data-swup",t),t++})})};D.default=Ce;var U={};Object.defineProperty(U,"__esModule",{value:!0});var Re=function(){document.documentElement.className.split(" ").forEach(function(e){(new RegExp("^to-").test(e)||e==="is-changing"||e==="is-rendering"||e==="is-popstate")&&document.documentElement.classList.remove(e)})};U.default=Re;Object.defineProperty(u,"__esModule",{value:!0});u.cleanupAnimationClasses=u.Link=u.markSwupElements=u.normalizeUrl=u.getCurrentUrl=u.transitionProperty=u.transitionEnd=u.fetch=u.getDataFromHtml=u.createHistoryRecord=u.classify=void 0;var Le=C,$e=d(Le),Me=R,je=d(Me),xe=L,qe=d(xe),De=$,Ue=d(De),Ye=M,Fe=d(Ye),We=j,Be=d(We),Ne=x,Ie=d(Ne),ze=q,Ve=d(ze),Ke=D,Xe=d(Ke),Ge=A,Je=d(Ge),Qe=U,Ze=d(Qe);function d(r){return r&&r.__esModule?r:{default:r}}u.classify=$e.default;u.createHistoryRecord=je.default;u.getDataFromHtml=qe.default;u.fetch=Ue.default;u.transitionEnd=Fe.default;u.transitionProperty=Be.default;u.getCurrentUrl=Ie.default;u.normalizeUrl=Ve.default;u.markSwupElements=Xe.default;u.Link=Je.default;u.cleanupAnimationClasses=Ze.default;Object.defineProperty(w,"__esModule",{value:!0});w.Cache=void 0;var et=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),S=u;function tt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var nt=w.Cache=function(){function r(){tt(this,r),this.pages={},this.last=null}return et(r,[{key:"cacheUrl",value:function(n){n.url=(0,S.normalizeUrl)(n.url),n.url in this.pages||(this.pages[n.url]=n),this.last=this.pages[n.url],this.swup.log("Cache ("+Object.keys(this.pages).length+")",this.pages)}},{key:"getPage",value:function(n){return n=(0,S.normalizeUrl)(n),this.pages[n]}},{key:"getCurrentPage",value:function(){return this.getPage((0,S.getCurrentUrl)())}},{key:"exists",value:function(n){return n=(0,S.normalizeUrl)(n),n in this.pages}},{key:"empty",value:function(){this.pages={},this.last=null,this.swup.log("Cache cleared")}},{key:"remove",value:function(n){delete this.pages[n]}}]),r}();w.default=nt;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});var rt=function(){function r(e,n){var t=[],i=!0,o=!1,a=void 0;try{for(var l=e[Symbol.iterator](),s;!(i=(s=l.next()).done)&&(t.push(s.value),!(n&&t.length===n));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return t}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),it=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},T=u,ot=function(e,n){var t=this,i=[],o=void 0,a=function(){if(t.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),n&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+(0,T.classify)(e.url)),i=t.getAnimationPromises("out"),Promise.all(i).then(function(){t.triggerEvent("animationOutDone")}),!n){var s=void 0;t.scrollToElement!=null?s=e.url+t.scrollToElement:s=e.url,(0,T.createHistoryRecord)(s)}};this.triggerEvent("transitionStart",n),e.customTransition!=null?(this.updateTransition(window.location.pathname,e.url,e.customTransition),document.documentElement.classList.add("to-"+(0,T.classify)(e.customTransition))):this.updateTransition(window.location.pathname,e.url),!n||this.options.animateHistoryBrowsing?a():this.triggerEvent("animationSkipped"),this.cache.exists(e.url)?(o=new Promise(function(l){l(t.cache.getPage(e.url))}),this.triggerEvent("pageRetrievedFromCache")):!this.preloadPromise||this.preloadPromise.route!=e.url?o=new Promise(function(l,s){(0,T.fetch)(it({},e,{headers:t.options.requestHeaders}),function(c){if(c.status===500){t.triggerEvent("serverError"),s(e.url);return}else{var f=t.getPageData(c);if(f!=null&&f.blocks.length>0)f.url=e.url;else{s(e.url);return}t.cache.cacheUrl(f),t.triggerEvent("pageLoaded"),l(f)}})}):o=this.preloadPromise,Promise.all([o].concat(i)).then(function(l){var s=rt(l,1),c=s[0];t.renderPage(c,n),t.preloadPromise=null}).catch(function(l){t.options.skipPopStateHandling=function(){return window.location=l,!0},window.history.go(-1)})};Y.default=ot;var F={};Object.defineProperty(F,"__esModule",{value:!0});var at=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},lt=u,st=function(e,n){var t=this;document.documentElement.classList.remove("is-leaving");var i=this.getCurrentUrl()===e.url;if(!!i){var o=new lt.Link(e.responseURL).getPath();window.location.pathname!==o&&(window.history.replaceState({url:o,random:Math.random(),source:"swup"},document.title,o),this.cache.cacheUrl(at({},e,{url:o}))),(!n||this.options.animateHistoryBrowsing)&&document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent",n);for(var a=0;a<e.blocks.length;a++)document.body.querySelector('[data-swup="'+a+'"]').outerHTML=e.blocks[a];if(document.title=e.title,this.triggerEvent("contentReplaced",n),this.triggerEvent("pageView",n),this.options.cache||this.cache.empty(),setTimeout(function(){(!n||t.options.animateHistoryBrowsing)&&(t.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))},10),!n||this.options.animateHistoryBrowsing){var l=this.getAnimationPromises("in");Promise.all(l).then(function(){t.triggerEvent("animationInDone"),t.triggerEvent("transitionEnd",n),t.cleanupAnimationClasses()})}else this.triggerEvent("transitionEnd",n);this.scrollToElement=null}};F.default=st;var W={};Object.defineProperty(W,"__esModule",{value:!0});var ut=function(e,n){this._handlers[e].forEach(function(i){try{i(n)}catch(o){console.error(o)}});var t=new CustomEvent("swup:"+e,{detail:e});document.dispatchEvent(t)};W.default=ut;var B={};Object.defineProperty(B,"__esModule",{value:!0});var ct=function(e,n){this._handlers[e]?this._handlers[e].push(n):console.warn("Unsupported event "+e+".")};B.default=ct;var N={};Object.defineProperty(N,"__esModule",{value:!0});var ft=function(e,n){var t=this;if(e!=null)if(n!=null)if(this._handlers[e]&&this._handlers[e].filter(function(a){return a===n}).length){var i=this._handlers[e].filter(function(a){return a===n})[0],o=this._handlers[e].indexOf(i);o>-1&&this._handlers[e].splice(o,1)}else console.warn("Handler for event '"+e+"' no found.");else this._handlers[e]=[];else Object.keys(this._handlers).forEach(function(a){t._handlers[a]=[]})};N.default=ft;var I={};Object.defineProperty(I,"__esModule",{value:!0});var dt=function(e,n,t){this.transition={from:e,to:n,custom:t}};I.default=dt;var z={};Object.defineProperty(z,"__esModule",{value:!0});var k=g,ht=function(e){return e?(e.charAt(0)==="#"&&(e=e.substring(1)),e=decodeURIComponent(e),e=(0,k.escapeCssIdentifier)(e),(0,k.query)("#"+e)||(0,k.query)("a[name='"+e+"']")):null};z.default=ht;var V={};Object.defineProperty(V,"__esModule",{value:!0});var gt=g,Q=u,pt=function(){var e=this.options.animationSelector,n=(0,Q.transitionProperty)()+"Duration",t=[],i=(0,gt.queryAll)(e,document.body);return i.length?(i.forEach(function(o){var a=window.getComputedStyle(o)[n];if(!a||a=="0s"){console.warn("[swup] No CSS transition duration defined for element of selector "+e),t.push(Promise.resolve());return}var l=new Promise(function(s){o.addEventListener((0,Q.transitionEnd)(),function(c){o==c.target&&s()})});t.push(l)}),t):(console.warn("[swup] No animated elements found by selector "+e),[Promise.resolve()])};V.default=pt;var K={};Object.defineProperty(K,"__esModule",{value:!0});var mt=u,vt=function(e){var n=e.responseText,t=(0,mt.getDataFromHtml)(n,this.options.containers);if(t)t.responseURL=e.responseURL?e.responseURL:window.location.href;else return console.warn("[swup] Received page is invalid."),null;return t};K.default=vt;var P={};Object.defineProperty(P,"__esModule",{value:!0});P.use=function(e){if(!e.isSwupPlugin){console.warn("Not swup plugin instance "+e+".");return}return this.plugins.push(e),e.swup=this,typeof e._beforeMount=="function"&&e._beforeMount(),e.mount(),this.plugins};P.unuse=function(e){var n=void 0;if(typeof e=="string"?n=this.plugins.find(function(i){return e===i.name}):n=e,!n){console.warn("No such plugin.");return}n.unmount(),typeof n._afterUnmount=="function"&&n._afterUnmount();var t=this.plugins.indexOf(n);return this.plugins.splice(t,1),this.plugins};P.findPlugin=function(e){return this.plugins.find(function(n){return e===n.name})};Object.defineProperty(te,"__esModule",{value:!0});var yt=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},_t=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),wt=ge,Pt=h(wt),bt=w,Et=h(bt),St=Y,Tt=h(St),At=F,Ot=h(At),kt=W,Ht=h(kt),Ct=B,Rt=h(Ct),Lt=N,$t=h(Lt),Mt=I,jt=h(Mt),xt=z,Z=h(xt),qt=V,Dt=h(qt),Ut=K,Yt=h(Ut),H=P,Ft=g,v=u;function h(r){return r&&r.__esModule?r:{default:r}}function Wt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Bt=function(){function r(e){Wt(this,r);var n={animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])',cache:!0,containers:["#swup"],requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},plugins:[],skipPopStateHandling:function(o){return!(o.state&&o.state.source==="swup")}},t=yt({},n,e);this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],openPageInNewTab:[],pageLoaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],serverError:[],transitionStart:[],transitionEnd:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=t,this.plugins=[],this.transition={},this.delegatedListeners={},this.boundPopStateHandler=this.popStateHandler.bind(this),this.cache=new Et.default,this.cache.swup=this,this.loadPage=Tt.default,this.renderPage=Ot.default,this.triggerEvent=Ht.default,this.on=Rt.default,this.off=$t.default,this.updateTransition=jt.default,this.getAnimationPromises=Dt.default,this.getPageData=Yt.default,this.getAnchorElement=Z.default,this.log=function(){},this.use=H.use,this.unuse=H.unuse,this.findPlugin=H.findPlugin,this.getCurrentUrl=v.getCurrentUrl,this.cleanupAnimationClasses=v.cleanupAnimationClasses,this.enable()}return _t(r,[{key:"enable",value:function(){var n=this;if(typeof Promise>"u"){console.warn("Promise is not supported");return}this.delegatedListeners.click=(0,Pt.default)(document,this.options.linkSelector,"click",this.linkClickHandler.bind(this)),window.addEventListener("popstate",this.boundPopStateHandler),this.options.cache,(0,v.markSwupElements)(document.documentElement,this.options.containers),this.options.plugins.forEach(function(t){n.use(t)}),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView")}},{key:"destroy",value:function(){var n=this;this.delegatedListeners.click.destroy(),window.removeEventListener("popstate",this.boundPopStateHandler),this.cache.empty(),this.options.plugins.forEach(function(t){n.unuse(t)}),(0,Ft.queryAll)("[data-swup]").forEach(function(t){t.removeAttribute("data-swup")}),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}},{key:"linkClickHandler",value:function(n){if(!n.metaKey&&!n.ctrlKey&&!n.shiftKey&&!n.altKey){if(n.button===0){this.triggerEvent("clickLink",n),n.preventDefault();var t=new v.Link(n.delegateTarget);if(t.getAddress()==(0,v.getCurrentUrl)()||t.getAddress()=="")if(t.getHash()!=""){this.triggerEvent("samePageWithHash",n);var i=(0,Z.default)(t.getHash());i!=null?history.replaceState({url:t.getAddress()+t.getHash(),random:Math.random(),source:"swup"},document.title,t.getAddress()+t.getHash()):console.warn("Element for offset not found ("+t.getHash()+")")}else this.triggerEvent("samePage",n);else{t.getHash()!=""&&(this.scrollToElement=t.getHash());var o=n.delegateTarget.getAttribute("data-swup-transition");this.loadPage({url:t.getAddress(),customTransition:o},!1)}}}else this.triggerEvent("openPageInNewTab",n)}},{key:"popStateHandler",value:function(n){if(!this.options.skipPopStateHandling(n)){var t=new v.Link(n.state?n.state.url:window.location.pathname);t.getHash()!==""?this.scrollToElement=t.getHash():n.preventDefault(),this.triggerEvent("popState",n),this.options.animateHistoryBrowsing||(document.documentElement.classList.remove("is-animating"),(0,v.cleanupAnimationClasses)()),this.loadPage({url:t.getAddress()},n)}}}]),r}(),Nt=te.default=Bt,re={},b={};Object.defineProperty(b,"__esModule",{value:!0});var It=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();function zt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var Vt=function(){function r(){zt(this,r),this.isSwupPlugin=!0}return It(r,[{key:"mount",value:function(){}},{key:"unmount",value:function(){}},{key:"_beforeMount",value:function(){}},{key:"_afterUnmount",value:function(){}}]),r}();b.default=Vt;var ie={exports:{}};(function(r){(function(e){function n(t){t=t||{},this.settings={level:"polite",parent:"body",idPrefix:"live-region-",delay:0};for(var i in t)t.hasOwnProperty(i)&&(this.settings[i]=t[i]);this.settings.parent=document.querySelector(this.settings.parent)}n.prototype.say=function(t,i){var o=this.settings.parent.querySelector('[id^="'+this.settings.idPrefix+'"]')||!1;o&&this.settings.parent.removeChild(o),i=i||this.settings.delay,this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(Math.random()*1e4);var a=this.settings.level!=="assertive"?"status":"alert";return this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",a),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout(function(){this.currentRegion.textContent=t}.bind(this),i),this},r.exports=n})()})(ie);(function(){if(!(typeof window>"u"||typeof document>"u"||typeof HTMLElement>"u")){var r=!1;try{var e=document.createElement("div");e.addEventListener("focus",function(o){o.preventDefault(),o.stopPropagation()},!0),e.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&typeof navigator.userAgent<"u"&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return r=!1;r=!0}}))}catch{}if(HTMLElement.prototype.nativeFocus===void 0&&!r){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(o){for(var a=o.parentNode,l=[],s=document.scrollingElement||document.documentElement;a&&a!==s;)(a.offsetHeight<a.scrollHeight||a.offsetWidth<a.scrollWidth)&&l.push([a,a.scrollTop,a.scrollLeft]),a=a.parentNode;return a=s,l.push([a,a.scrollTop,a.scrollLeft]),l},t=function(o){for(var a=0;a<o.length;a++)o[a][0].scrollTop=o[a][1],o[a][0].scrollLeft=o[a][2];o=[]},i=function(o){if(o&&o.preventScroll){var a=n(this);if(typeof setTimeout=="function"){var l=this;setTimeout(function(){l.nativeFocus(),t(a)},0)}else this.nativeFocus(),t(a)}else this.nativeFocus()};HTMLElement.prototype.focus=i}}})();Object.defineProperty(re,"__esModule",{value:!0});var Kt=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Xt=function(){function r(e,n){var t=[],i=!0,o=!1,a=void 0;try{for(var l=e[Symbol.iterator](),s;!(i=(s=l.next()).done)&&(t.push(s.value),!(n&&t.length===n));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return t}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Gt=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),Jt=b,Qt=oe(Jt),Zt=ie.exports,en=oe(Zt);function oe(r){return r&&r.__esModule?r:{default:r}}function tn(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function nn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function rn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var on=function(r){rn(e,r);function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tn(this,e);var t=nn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="SwupA11yPlugin",t.announceVisit=function(){requestAnimationFrame(function(){t.announcePageName(),t.focusPageContent()})},t.announcePageName=function(){var i=t.options,o=i.contentSelector,a=i.headingSelector,l=i.urlTemplate,s=i.announcementTemplate,c=l.replace("{url}",window.location.pathname);document.title&&(c=document.title);var f=document.querySelector(o);if(f){var p=f.querySelectorAll(a);if(p&&p.length){var m=Xt(p,1),G=m[0];c=G.getAttribute("aria-label")||G.textContent}}var ue=s.replace("{title}",c.trim());t.liveRegion.say(ue)},t.focusPageContent=function(){var i=document.querySelector(t.options.contentSelector);i&&(i.setAttribute("tabindex","-1"),i.focus({preventScroll:!0}))},t.onTransitionStart=function(){document.documentElement.setAttribute("aria-busy","true")},t.onTransitionEnd=function(){document.documentElement.removeAttribute("aria-busy")},t.options=Kt({contentSelector:"main",headingSelector:"h1, h2, [role=heading]",announcementTemplate:"Navigated to: {title}",urlTemplate:"New page at {url}"},n),t.liveRegion=new en.default,t}return Gt(e,[{key:"mount",value:function(){this.swup.on("contentReplaced",this.announceVisit),this.swup.on("transitionStart",this.onTransitionStart),this.swup.on("transitionEnd",this.onTransitionEnd)}},{key:"unmount",value:function(){this.swup.off("contentReplaced",this.announceVisit),this.swup.off("transitionStart",this.onTransitionStart),this.swup.off("transitionEnd",this.onTransitionEnd)}}]),e}(Qt.default),an=re.default=on,ae={};Object.defineProperty(ae,"__esModule",{value:!0});var ln=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},sn=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),un=b,cn=fn(un);function fn(r){return r&&r.__esModule?r:{default:r}}function dn(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function gn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var pn=function(r){gn(e,r);function e(n){dn(this,e);var t=hn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="HeadPlugin",t.defaultOptions={persistTags:!1,persistAssets:!1},t.getHeadAndReplace=function(){var i=t.getHeadChildren(),o=t.getNextHeadChildren();t.replaceTags(i,o)},t.getHeadChildren=function(){return document.head.children},t.getNextHeadChildren=function(){var i=t.swup.cache.getCurrentPage().originalContent.replace("<head",'<div id="swupHead"').replace("</head>","</div>"),o=document.createElement("div");o.innerHTML=i;var a=o.querySelector("#swupHead").children;return o.innerHTML="",o=null,a},t.replaceTags=function(i,o){var a=document.head,l=Boolean(document.querySelector("[data-swup-theme]")),s=t.getTagsToAdd(i,o,l),c=t.getTagsToRemove(i,o,l);c.reverse().forEach(function(f){a.removeChild(f.tag)}),s.forEach(function(f){a.insertBefore(f.tag,a.children[f.index+1]||null)}),t.swup.log("Removed "+c.length+" / added "+s.length+" tags in head")},t.compareTags=function(i,o){var a=i.outerHTML,l=o.outerHTML;return a===l},t.getTagsToRemove=function(i,o){for(var a=[],l=0;l<i.length;l++){for(var s=null,c=0;c<o.length;c++)if(t.compareTags(i[l],o[c])){s=c;break}s==null&&i[l].getAttribute("data-swup-theme")===null&&!t.isPersistentTag(i[l])&&a.push({tag:i[l]})}return a},t.getTagsToAdd=function(i,o,a){for(var l=[],s=0;s<o.length;s++){for(var c=null,f=0;f<i.length;f++)if(t.compareTags(i[f],o[s])){c=f;break}c==null&&l.push({index:a?s+1:s,tag:o[s]})}return l},t.isPersistentTag=function(i){var o=t.options.persistTags;return typeof o=="function"?o(i):typeof o=="string"?i.matches(o):Boolean(o)},t.updateHtmlLangAttribute=function(){var i=document.documentElement,o=new DOMParser().parseFromString(t.swup.cache.getCurrentPage().originalContent,"text/html"),a=o.documentElement.lang;i.lang!==a&&(t.swup.log("Updated lang attribute: "+i.lang+" > "+a),i.lang=a)},t.options=ln({},t.defaultOptions,n),t.options.persistAssets&&!t.options.persistTags&&(t.options.persistTags="link[rel=stylesheet], script[src], style"),t}return sn(e,[{key:"mount",value:function(){this.swup.on("contentReplaced",this.getHeadAndReplace),this.swup.on("contentReplaced",this.updateHtmlLangAttribute)}},{key:"unmount",value:function(){this.swup.off("contentReplaced",this.getHeadAndReplace),this.swup.off("contentReplaced",this.updateHtmlLangAttribute)}}]),e}(cn.default),mn=ae.default=pn,le={},X={};Object.defineProperty(X,"__esModule",{value:!0});var vn=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r};function yn(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var _n=function r(e){var n=this;yn(this,r),this._raf=null,this._positionY=0,this._velocityY=0,this._targetPositionY=0,this._targetPositionYWithOffset=0,this._direction=0,this.scrollTo=function(i){if(i&&i.nodeType)n._targetPositionY=Math.round(i.getBoundingClientRect().top+window.pageYOffset);else if(parseInt(n._targetPositionY)===n._targetPositionY)n._targetPositionY=Math.round(i);else{console.error("Argument must be a number or an element.");return}n._targetPositionY>document.documentElement.scrollHeight-window.innerHeight&&(n._targetPositionY=document.documentElement.scrollHeight-window.innerHeight),n._positionY=document.body.scrollTop||document.documentElement.scrollTop,n._direction=n._positionY>n._targetPositionY?-1:1,n._targetPositionYWithOffset=n._targetPositionY+n._direction,n._velocityY=0,n._positionY!==n._targetPositionY?(n.options.onStart(),n._animate()):n.options.onAlreadyAtPositions()},this._animate=function(){n._update(),n._render(),n._direction===1&&n._targetPositionY>n._positionY||n._direction===-1&&n._targetPositionY<n._positionY?(n._raf=requestAnimationFrame(n._animate),n.options.onTick()):(n._positionY=n._targetPositionY,n._render(),n._raf=null,n.options.onTick(),n.options.onEnd())},this._update=function(){var i=n._targetPositionYWithOffset-n._positionY,o=i*n.options.acceleration;return n._velocityY+=o,n._velocityY*=n.options.friction,n._positionY+=n._velocityY,Math.abs(i)},this._render=function(){window.scrollTo(0,n._positionY)};var t={onAlreadyAtPositions:function(){},onCancel:function(){},onEnd:function(){},onStart:function(){},onTick:function(){},friction:.7,acceleration:.04};this.options=vn({},t,e),e&&e.friction&&(this.options.friction=1-e.friction),window.addEventListener("mousewheel",function(i){n._raf&&(n.options.onCancel(),cancelAnimationFrame(n._raf),n._raf=null)},{passive:!0})};X.default=_n;Object.defineProperty(le,"__esModule",{value:!0});var wn=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},Pn=function(){function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}(),bn=b,En=se(bn),Sn=X,Tn=se(Sn),_=u,ee=g;function se(r){return r&&r.__esModule?r:{default:r}}function An(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function On(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:r}function kn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var Hn=function(r){kn(e,r);function e(n){An(this,e);var t=On(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.name="ScrollPlugin",t.getAnchorElement=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return typeof t.options.getAnchorElement=="function"?t.options.getAnchorElement(o):typeof t.swup.getAnchorElement=="function"?t.swup.getAnchorElement(o):document.querySelector(o)},t.getOffset=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return typeof t.options.offset=="function"?parseInt(t.options.offset(o),10):parseInt(t.options.offset,10)},t.onSamePage=function(){t.swup.scrollTo(0,t.shouldAnimate("samePage"))},t.onSamePageWithHash=function(o){var a=o.delegateTarget;t.maybeScrollToAnchor(a.hash,"samePageWithHash")},t.onTransitionStart=function(o){t.options.doScrollingRightAway&&!t.swup.scrollToElement&&t.doScrollingBetweenPages(o)},t.onContentReplaced=function(o){(!t.options.doScrollingRightAway||t.swup.scrollToElement)&&t.doScrollingBetweenPages(o),t.restoreScrollContainers(o)},t.doScrollingBetweenPages=function(o){var a=t.swup;if(!(o&&!a.options.animateHistoryBrowsing)){if(t.maybeScrollToAnchor(a.scrollToElement,"betweenPages")){a.scrollToElement=null;return}var l=t.getStoredScrollPositions((0,_.getCurrentUrl)())||{},s=l.window&&l.window.top||0;requestAnimationFrame(function(){return a.scrollTo(s,t.shouldAnimate("betweenPages"))})}},t.onWillReplaceContent=function(){t.storeScrollPositions(t.previousUrl),t.previousUrl=(0,_.getCurrentUrl)()},t.onClickLink=function(o){t.maybeResetScrollPositions(o.delegateTarget)};var i={doScrollingRightAway:!1,animateScroll:{betweenPages:!0,samePageWithHash:!0,samePage:!0},scrollFriction:.3,scrollAcceleration:.04,getAnchorElement:null,offset:0,scrollContainers:"[data-swup-scroll-container]",shouldResetScrollPosition:function(a){return!0}};return t.options=wn({},i,n),t.scrollPositionsStore={},t.previousUrl=(0,_.getCurrentUrl)(),t}return Pn(e,[{key:"mount",value:function(){var t=this,i=this.swup;i._handlers.scrollDone=[],i._handlers.scrollStart=[],this.scrl=new Tn.default({onStart:function(){return i.triggerEvent("scrollStart")},onEnd:function(){return i.triggerEvent("scrollDone")},onCancel:function(){return i.triggerEvent("scrollDone")},friction:this.options.scrollFriction,acceleration:this.options.scrollAcceleration}),i.scrollTo=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;a?t.scrl.scrollTo(o):(i.triggerEvent("scrollStart"),window.scrollTo(0,o),i.triggerEvent("scrollDone"))},this.previousScrollRestoration=window.history.scrollRestoration,i.options.animateHistoryBrowsing&&(window.history.scrollRestoration="manual"),i.on("samePage",this.onSamePage),i.on("samePageWithHash",this.onSamePageWithHash),i.on("transitionStart",this.onTransitionStart),i.on("contentReplaced",this.onContentReplaced),i.on("willReplaceContent",this.onWillReplaceContent),i.on("clickLink",this.onClickLink)}},{key:"unmount",value:function(){var t=this.swup;t.scrollTo=null,delete this.scrl,this.scrl=null,t.off("samePage",this.onSamePage),t.off("samePageWithHash",this.onSamePageWithHash),t.off("transitionStart",this.onTransitionStart),t.off("contentReplaced",this.onContentReplaced),t.off("willReplaceContent",this.onWillReplaceContent),t.off("clickLink",this.onClickLink),t._handlers.scrollDone=null,t._handlers.scrollStart=null,window.history.scrollRestoration=this.previousScrollRestoration}},{key:"shouldAnimate",value:function(t){return typeof this.options.animateScroll=="boolean"?this.options.animateScroll:this.options.animateScroll[t]}},{key:"maybeScrollToAnchor",value:function(t,i){if(t==null)return!1;var o=this.getAnchorElement(t);if(!o)return console.warn("Element "+t+" not found"),!1;if(!(o instanceof Element))return console.warn("Element "+t+" is not a DOM node"),!1;var a=o.getBoundingClientRect().top+window.pageYOffset-this.getOffset(o);return this.swup.scrollTo(a,this.shouldAnimate(i)),!0}},{key:"maybeResetScrollPositions",value:function(t){if(!!this.options.shouldResetScrollPosition(t)){var i=new _.Link(t).getAddress();this.resetScrollPositions(i)}}},{key:"storeScrollPositions",value:function(t){var i=(0,ee.queryAll)(this.options.scrollContainers).map(function(o){return{top:o.scrollTop,left:o.scrollLeft}});this.scrollPositionsStore[t]={window:{top:window.scrollY,left:window.scrollX},containers:i}}},{key:"resetScrollPositions",value:function(t){delete this.scrollPositionsStore[t],this.scrollPositionsStore[t]=null}},{key:"getStoredScrollPositions",value:function(t){return this.scrollPositionsStore[t]}},{key:"restoreScrollContainers",value:function(t){var i=this.getStoredScrollPositions((0,_.getCurrentUrl)())||{};i.containers!=null&&(0,ee.queryAll)(this.options.scrollContainers).forEach(function(o,a){var l=i.containers[a];l!=null&&(o.scrollTop=l.top,o.scrollLeft=l.left)})}}]),e}(En.default),Cn=le.default=Hn;const Rn={doScrollingRightAway:!0,animateScroll:!1,shouldResetScrollPosition:r=>!r.matches(".backlink"),plugins:[new mn,new an,new Cn]};new Nt(Rn);
